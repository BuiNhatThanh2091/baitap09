<!DOCTYPE html>
<html>
<head><title>Manager Support Dashboard</title></head>
<body style="font-family: sans-serif; padding: 20px;">
    <h2>Manager Dashboard</h2>
    <ul id="messages" style="border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px; list-style: none;"></ul>
    <input id="input" autocomplete="off" style="width: 70%; padding: 10px;" placeholder="Manager trả lời..." />
    <button onclick="send()" style="padding: 10px;">Gửi</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io();
        var messages = document.getElementById('messages');
        var input = document.getElementById('input');

        // Nhận tin nhắn từ Server
        socket.on('chat_message', function(data) {
            var item = document.createElement('li');
            // Hiển thị rõ ai đang nhắn
            item.textContent = `[${data.sender}]: ${data.msg}`; 
            item.style.color = (data.sender === 'Manager') ? 'blue' : 'red';
            messages.appendChild(item);
        });

        // Gửi tin nhắn
        function send() {
            if (input.value) {
                socket.emit('chat_message', { sender: 'Manager', msg: input.value });
                input.value = '';
            }
        }
    </script>
</body>
</html>